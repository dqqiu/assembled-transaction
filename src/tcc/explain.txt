/**
 * @description 事务上下文
 * @author qiudequan
 * @createTime : 2017年1月6日 下午2:20:06 
 */
 
 两阶段提交

两阶段提交：该协议通常用来实现分布式事务。系统一般包含两类节点：一类是协调者（coordinator），
通常一个系统只有一个；另一类是事务参与者（participants），一般包含多个。协议中假设每个节点都会记录操作日志
并持久化到非易失性存储介质。

它分成两个阶段，称之为准备阶段，提交阶段；也可以理解为投票，确认过程:

准备阶段（Prepare Phrase）：
	协调者会问所有的参与者结点，是否可以执行提交操作。
	各个参与者开始事务执行的准备工作：如：为资源上锁，预留资源，写undo/redo log……。
	参与者响应协调者，如果事务的准备工作成功，则回应“可以提交”，否则回应“拒绝提交”。
确认阶段（Confirm Phrase）：
	如果所有的参与者都回应“可以提交”，那么，协调者向所有的参与者发送“正式提交”的命令。
	参与者完成正式提交，并释放所有资源，然后回应“完成”，
	协调者收集各结点的“完成”回应后结束这个Global Transaction。
	如果有一个参与者回应“拒绝提交”，那么，协调者向所有的参与者发送“回滚操作”，并释放所有资源.
	参与者然后回应“回滚完成”，协调者收集各结点的“回滚”回应后，取消这个Global Transaction。
	
异常流程的话，可以参考酷壳的这篇文章分布式系统的事务处理以及《分布式系统原理介绍》电子书的相应章节介绍。

另外，需要补充说明的是，在一月份的《程序员》杂志中，介绍了阿里使用TCC(Try-Confirm-Cancel)机制来实现
分布式事务。即使在极端情况下，也可以使用事务补偿和人工介入的方式来完成事务一致性。